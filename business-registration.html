<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Macros POS - Business Registration</title>
    <link rel="stylesheet" href="styles.css">
    <meta name="description" content="Register your business with Macros POS">
    <meta name="theme-color" content="#2563eb">
</head>
<body class="page-wrapper">
    <!-- Back Button -->
    <a href="account-selection.html" class="btn btn-ghost btn-sm" style="position: fixed; top: 2rem; left: 2rem; z-index: 100;">
        <span class="button-icon">‚Üê</span>
        <span class="button-text">Back</span>
    </a>

    <div class="container container-lg">
        <div class="card" style="max-width: 800px; margin: 0 auto;">
            <div class="card-header text-center">
                <div class="logo-container mb-lg">
                    <div class="logo">M</div>
                </div>
                <h1 class="card-title text-3xl mb-md">
                    Register Your <span class="gradient-text">Business</span>
                </h1>
                <p class="card-subtitle">
                    Get started with Macros POS by setting up your business profile
                </p>
            </div>

            <div class="card-body">
                <form class="registration-form" id="businessRegistrationForm">
                    <div class="card mb-xl">
                        <div class="card-header">
                            <h3 class="card-title text-xl">üè¢ Company Information</h3>
                        </div>
                        <div class="card-body">
                            <div class="grid grid-cols-1 gap-lg">
                                <div class="form-group">
                                    <label for="companyName" class="form-label">Company Name</label>
                                    <input type="text" id="companyName" name="companyName" 
                                           class="form-input" required 
                                           placeholder="Your umbrella company name"
                                           autocomplete="organization">
                                    <p class="form-hint">The main name of your business or organization</p>
                                </div>
                                
                                <div class="form-group">
                                    <label for="ownerName" class="form-label">Owner/General Manager Name</label>
                                    <input type="text" id="ownerName" name="ownerName" 
                                           class="form-input" required 
                                           placeholder="Full name of the owner or general manager"
                                           autocomplete="name">
                                    <p class="form-hint">Primary contact person for this business</p>
                                </div>

                                <div class="grid grid-cols-1 gap-lg">
                                    <div class="form-group">
                                        <label for="companyEmail" class="form-label">Company Email</label>
                                        <input type="email" id="companyEmail" name="companyEmail" 
                                               class="form-input" required 
                                               placeholder="company@example.com"
                                               autocomplete="email">
                                        <p class="form-hint">Primary email for business communications</p>
                                    </div>

                                    <div class="form-group">
                                        <label for="companyPhone" class="form-label">Company Phone</label>
                                        <input type="tel" id="companyPhone" name="companyPhone" 
                                               class="form-input" required 
                                               placeholder="+1 (555) 123-4567"
                                               autocomplete="tel">
                                        <p class="form-hint">Main business phone number</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div> 
                           placeholder="(000) 000-0000"
                           autocomplete="tel">
                </div>
            </div>

            <div class="form-section">
                <h3 class="section-title">First Property Information</h3>
                <div class="form-group">
                    <label for="propertyName">Property Name</label>
                    <input type="text" id="propertyName" name="propertyName" required 
                           placeholder="Name of your first location"
                           autocomplete="organization">
                </div>                <div class="form-group">
                    <label for="businessType">Property Type</label>
                    <select id="businessType" name="businessType" required onchange="toggleHotelFields()">
                        <option value="" disabled selected>Select your property type</option>
                        <option value="restaurant">Restaurant</option>
                        <option value="cafe">Caf√©</option>
                        <option value="bar">Bar/Pub</option>
                        <option value="hotel">Hotel</option>
                        <option value="retail">Retail Store</option>
                        <option value="food-truck">Food Truck</option>
                        <option value="catering">Catering Service</option>
                        <option value="fine-dining">Fine Dining</option>
                        <option value="fast-food">Fast Food</option>
                        <option value="other">Other</option>
                        <option value="hotel">Hotel</option>
                        <option value="cafe">Caf√©</option>
                        <option value="bar">Bar/Pub</option>
                        <option value="other">Other</option>
                    </select>
                </div>

                <!-- Hotel-specific fields -->
                <div class="form-group hotel-fields" id="hotelFields" style="display: none;">
                    <label for="hotelBrand">Hotel Brand</label>
                    <select id="hotelBrand" onchange="updateRewardsProgram()">
                        <option value="" disabled selected>Select hotel brand</option>
                        <option value="marriott">Marriott International</option>
                        <option value="hilton">Hilton Hotels & Resorts</option>
                        <option value="hyatt">Hyatt Hotels Corporation</option>
                        <option value="ihg">InterContinental Hotels Group</option>
                        <option value="accor">Accor Hotels</option>
                        <option value="wyndham">Wyndham Hotels & Resorts</option>
                        <option value="choice">Choice Hotels</option>
                        <option value="independent">Independent Hotel</option>
                        <option value="other">Other Brand</option>
                    </select>
                </div>

                <div class="form-group hotel-fields" id="rewardsProgramField" style="display: none;">
                    <label for="rewardsProgram">Rewards Program</label>
                    <input type="text" id="rewardsProgram" readonly placeholder="Will be set based on brand selection">
                    <small class="field-description">This will be used for guest loyalty program integration</small>
                </div>
                
                <div class="form-group">
                    <label for="address">Property Address</label>
                    <textarea id="address" required></textarea>
                </div>
                
                <div class="form-group">
                    <label for="country">Country</label>
                    <select id="country" required onchange="updateStateField()">
                        <option value="" disabled selected>Select your country</option>
                        <!-- Countries will be populated via JavaScript -->
                    </select>
                </div>
                
                <div class="form-group" id="stateContainer">
                    <label for="state">State/Province</label>
                    <select id="state">
                        <option value="" disabled selected>Select your state</option>
                        <!-- States will be populated via JavaScript based on country -->
                    </select>
                </div>
            </div>

            <button type="submit" class="submit-button">
                <span class="button-text">Create Business Account</span>
                <span class="button-icon">‚Üí</span>
            </button>        </form>        <!-- Success Message Container -->
        <div class="success-message" style="display: none;">
            <div class="success-content">
                <h2>Business Account Created Successfully! üéâ</h2>
                <div class="identifier-container">
                    <div class="identifier-section">
                        <h3>Business ID</h3>
                        <div class="code-display business-id"></div>
                        <p class="code-instruction">Use this ID to log in to your business account</p>
                    </div>
                    <div class="identifier-section">
                        <h3>Connection Code</h3>
                        <div class="code-display property-code"></div>
                        <p class="code-instruction">Use this code to connect additional properties or register staff</p>
                    </div>
                </div>
                <div class="button-container">
                    <button type="button" onclick="window.location.href='login.html'" class="continue-button">
                        <span class="button-text">Continue to Login</span>
                        <svg class="button-icon" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M4.16666 10H15.8333" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M10.8333 5L15.8333 10L10.8333 15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                </div>
            </div>
    </div>

    <!-- Load utility scripts first -->
    <script src="js/cache-buster.js?v=20250627002"></script>
    <script src="id-utils.js"></script>
    <script src="navigation.js"></script>
    
    <!-- Firebase SDK (must be loaded before our Firebase scripts) -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-storage-compat.js"></script>
    
    <!-- Firebase configuration and services (must be loaded after SDK) -->
    <script src="js/firebase-conflict-resolver.js?v=20250627002"></script>
    <script src="js/firebase-config.js?v=20250627002"></script>
    <script src="js/firebase-services.js?v=20250627002"></script>
    
    <!-- Firebase managers (must be loaded after Firebase is configured) -->
    <script src="js/firebase-manager.js?v=20250627002"></script>
    <script src="js/umbrella-account-manager.js?v=20250627002"></script>
    
    <!-- Property management scripts -->
    <script src="multi-property-manager.js"></script>
    <script src="property-management.js"></script>
    
    <!-- Registration logic (must be loaded last) -->
    <script src="registration.js"></script>
</body>
</html>
